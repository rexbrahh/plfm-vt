syntax = "proto3";

package plfm.events.v1;

// Payload for environment created events.
message EnvCreatedPayload {
  // Environment identifier.
  string env_id = 1;
  // Organization identifier.
  string org_id = 2;
  // Application identifier.
  string app_id = 3;
  // Environment name.
  string name = 4;
}

// Payload for environment change events.
message EnvUpdatedPayload {
  // Environment identifier.
  string env_id = 1;
  // Organization identifier.
  string org_id = 2;
  // Application identifier.
  string app_id = 3;
  // New environment name.
  optional string name = 4;
}

// Payload for environment deletion events.
message EnvDeletedPayload {
  // Environment identifier.
  string env_id = 1;
}

// Payload for environment scale updates.
message EnvScaleSetPayload {
  // Environment identifier.
  string env_id = 1;
  // Process type label.
  string process_type = 2;
  // Minimum replica count.
  int32 min_replicas = 3;
  // Maximum replica count.
  int32 max_replicas = 4;
}

// Payload for environment desired release changes.
message EnvDesiredReleaseSetPayload {
  // Environment identifier.
  string env_id = 1;
  // Release identifier.
  string release_id = 2;
  // Deploy identifier.
  string deploy_id = 3;
}

// Payload for enabling the IPv4 add-on.
message EnvIpv4AddonEnabledPayload {
  // Environment identifier.
  string env_id = 1;
  // Organization identifier.
  string org_id = 2;
  // Application identifier.
  string app_id = 3;
  // Allocation identifier.
  string allocation_id = 4;
  // Assigned IPv4 address.
  string ipv4_address = 5;
}

// Payload for disabling the IPv4 add-on.
message EnvIpv4AddonDisabledPayload {
  // Environment identifier.
  string env_id = 1;
  // Organization identifier.
  string org_id = 2;
  // Allocation identifier.
  string allocation_id = 3;
}
